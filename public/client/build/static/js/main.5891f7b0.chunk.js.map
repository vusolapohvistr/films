{"version":3,"sources":["api.js","utils/filmValidator.js","components/Film.js","components/AddFilmDialog.js","components/Search.js","components/Home.js","App.js","index.js"],"names":["api","getFilms","request","axios","get","params","getFilmById","id","putFilm","data","put","deleteFilmById","delete","standard","title","release_date","format","actors","filmValidator","film","objects","allKeys","reduce","keys","object","concat","Object","union","Set","every","size","length","objectsHaveSameKeys","Film","props","handlerButtonExtend","extended","state","setState","handlerButtonDelete","handlerDeleteFilm","drawInfo","Grid","container","justify","Typography","Date","getFullYear","hasOwnProperty","classes","this","Paper","className","paper","variant","component","Fab","aria-label","fab","onClick","color","React","Component","withStyles","theme","body","backgroundColor","palette","common","white","paddingTop","spacing","padding","flexGrow","margin","extendedIcon","marginRight","AddFilmDialog","handlerInputTitle","e","target","value","handlerInputDate","handlerInputFormat","handlerInputActors","handlerOpen","open","handlerCancel","handlerSubmit","a","handlerAddFilm","handlerButtonFileInput","document","getElementById","click","handlerFileInput","files","fileReader","FileReader","readAsText","onload","rows","result","split","aPieceOfData","forEach","row","prop","toLowerCase","push","handlerMassiveAddFilms","Dialog","onClose","DialogTitle","DialogContent","TextField","required","autoFocus","label","onChange","fullWidth","type","InputLabelProps","shrink","DialogActions","Button","accept","invisible","onInput","display","Search","handleSelectType","query","searchFilms","handleSelectOrder","order","handleSearchInput","debounce","handlerSearch","search","searchIcon","InputBase","placeholder","root","inputRoot","input","inputInput","inputProps","FormControl","searchSelect","InputLabel","htmlFor","Select","displayEmpty","MenuItem","position","alignItems","borderRadius","shape","fade","marginLeft","width","breakpoints","up","height","pointerEvents","justifyContent","transition","transitions","create","Home","res","films","filmId","indexOfFilm","findIndex","el","newFilms","slice","filmPutPromises","console","log","Promise","all","map","previousFilms","then","Container","key","App","createMuiTheme","primary","lightBlue","secondary","red","ReactDOM","render","ThemeProvider"],"mappings":"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","file":"static/js/main.5891f7b0.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst url = '';\r\n\r\n/*\r\n    api always returns promise\r\n */\r\n\r\nconst api = {\r\n    getFilms(request) {\r\n        return axios.get(`${url}/api/film`, { params: request})\r\n    },\r\n    getFilmById(id) {\r\n        return axios.get(`${url}/api/film/${id}`)\r\n    },\r\n    putFilm(data) {\r\n        return axios.put(`${url}/api/film`, data)\r\n    },\r\n    deleteFilmById(id) {\r\n        return axios.delete(`${url}/api/film/${id}`)\r\n    },\r\n};\r\n\r\nexport default api;\r\n","const standard = {\r\n    title: '21',\r\n    release_date: 0,\r\n    format: '',\r\n    actors: ''\r\n};\r\n\r\nfunction objectsHaveSameKeys(...objects) {\r\n    const allKeys = objects.reduce((keys, object) => keys.concat(Object.keys(object)), []);\r\n    const union = new Set(allKeys);\r\n    return objects.every(object => union.size === Object.keys(object).length);\r\n}\r\n\r\n\r\nfunction filmValidator(film) {\r\n    return objectsHaveSameKeys(film, standard);\r\n}\r\n\r\nexport default filmValidator\r\n","import React from 'react';\r\nimport { withStyles } from \"@material-ui/core\";\r\nimport Paper from '@material-ui/core/Paper'\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport Fab from \"@material-ui/core/Fab\";\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward';\r\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward';\r\n\r\n\r\nconst styles = theme => ({\r\n    '@global': {\r\n        body: {\r\n            backgroundColor: theme.palette.common.white,\r\n        }\r\n    },\r\n    paper: {\r\n        paddingTop: theme.spacing(1),\r\n        padding: theme.spacing(1),\r\n    },\r\n    title: {\r\n        flexGrow: 1,\r\n    },\r\n    fab: {\r\n        margin: theme.spacing(1),\r\n    },\r\n    extendedIcon: {\r\n        marginRight: theme.spacing(1),\r\n    },\r\n});\r\n\r\nclass Film extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            extended: false,\r\n        }\r\n    }\r\n    handlerButtonExtend = () => {\r\n        const { extended } = this.state;\r\n        this.setState({\r\n            extended: !extended\r\n        })\r\n    };\r\n    handlerButtonDelete = () => {\r\n        this.props.handlerDeleteFilm(this.props.film.id);\r\n    };\r\n    drawInfo = () => {\r\n        return (\r\n            <div>\r\n            {this.props.film.format && this.props.film.release_date ?\r\n                (<Grid container justify=\"space-between\">\r\n                    <Typography>\r\n                        Release date: {new Date(this.props.film.release_date).getFullYear()}\r\n                    </Typography>\r\n                    <Typography>\r\n                        Format: {this.props.film.format}\r\n                    </Typography>\r\n                </Grid>)\r\n                : ''\r\n            }\r\n            {this.props.film.hasOwnProperty('id') && this.props.film.actors ?\r\n                (<Grid container justify=\"space-between\">\r\n                    <Typography>\r\n                        Stars: {this.props.film.actors}\r\n                    </Typography>\r\n                    <Typography>\r\n                        Id: {this.props.film.id}\r\n                    </Typography>\r\n                </Grid>)\r\n                : ''\r\n            }\r\n            </div>)\r\n    };\r\n    render() {\r\n        const { classes } = this.props;\r\n        return (\r\n            <Paper className={classes.paper}>\r\n                <Grid container>\r\n                    <Grid className={classes.title}>\r\n                        <Typography variant=\"h5\" component=\"h3\">\r\n                            {this.props.film.title}\r\n                        </Typography>\r\n                    </Grid>\r\n                    <Grid>\r\n                        <Fab size=\"small\" aria-label=\"delete\" className={classes.fab}\r\n                            onClick={this.handlerButtonDelete}>\r\n                            <DeleteIcon />\r\n                        </Fab>\r\n                        <Fab color=\"primary\" size=\"small\" variant=\"extended\" aria-label=\"delete\" className={classes.fab} onClick={this.handlerButtonExtend}>\r\n                            {this.state.extended ? <ArrowUpwardIcon/> : <ArrowDownwardIcon/>}\r\n                        </Fab>\r\n                    </Grid>\r\n                </Grid>\r\n                {this.state.extended ? this.drawInfo() : ''}\r\n            </Paper>)\r\n    }\r\n}\r\n\r\nexport default withStyles(styles)(Film);\r\n","import React from 'react';\r\nimport { withStyles } from \"@material-ui/core\";\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport Fab from '@material-ui/core/Fab';\r\n\r\nconst styles = theme => ({\r\n    invisible: {\r\n        display: 'None',\r\n    },\r\n});\r\n\r\nclass AddFilmDialog extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            open: false,\r\n            film: {\r\n                title: '',\r\n                release_date: '',\r\n                format: '',\r\n                actors: '',\r\n            },\r\n        }\r\n    }\r\n    handlerInputTitle = (e) => {\r\n        const { film } = this.state;\r\n        this.setState({\r\n            film: {...film, title: e.target.value}\r\n        })\r\n    };\r\n    handlerInputDate = (e) => {\r\n        const { film } = this.state;\r\n        this.setState({\r\n            film: {...film, release_date: e.target.value}\r\n        })\r\n    };\r\n    handlerInputFormat = (e) => {\r\n        const { film } = this.state;\r\n        this.setState({\r\n            film: {...film, format: e.target.value}\r\n        })\r\n    };\r\n    handlerInputActors = (e) => {\r\n        const { film } = this.state;\r\n        this.setState({\r\n            film: {...film, actors: e.target.value}\r\n        })\r\n    };\r\n    handlerOpen = () => {\r\n        const open = this.state.open;\r\n        this.setState({\r\n            open: !open,\r\n        })\r\n    };\r\n    handlerCancel = () => {\r\n        this.setState({\r\n            film: {\r\n                title: '',\r\n                release_date: '',\r\n                format: '',\r\n                actors: '',\r\n            },\r\n            open: false,\r\n        })\r\n    };\r\n    handlerSubmit = async () => {\r\n        await this.props.handlerAddFilm(this.state.film);\r\n        this.handlerCancel();\r\n    };\r\n    handlerButtonFileInput = () => {\r\n        document.getElementById('dialog_file_input').click();\r\n    };\r\n    handlerFileInput = () => {\r\n        let data = document.getElementById('dialog_file_input').files;\r\n        data = data[data.length - 1];\r\n        const fileReader = new FileReader();\r\n        fileReader.readAsText(data);\r\n        fileReader.onload = (e) => {\r\n            const rows = e.target.result.split('\\n');\r\n            let data = [];\r\n            let aPieceOfData = {};\r\n            rows.forEach(row => {\r\n                if (row.length > 1) {\r\n                   let [prop, value] = row.split(': ');\r\n                   if (prop === 'Stars') aPieceOfData.actors = value;\r\n                   else if (prop === 'Release Year') aPieceOfData.release_date = value;\r\n                   else aPieceOfData[prop.toLowerCase()] = value;\r\n                }\r\n                else {\r\n                    aPieceOfData.title ? data.push(aPieceOfData) : aPieceOfData = {};\r\n                    aPieceOfData = {};\r\n                }\r\n            });\r\n            this.props.handlerMassiveAddFilms(data);\r\n            this.handlerCancel();\r\n        };\r\n    };\r\n    render() {\r\n        const { classes } = this.props;\r\n        return (\r\n            <div>\r\n                <Fab onClick={this.handlerOpen} color=\"secondary\" aria-label=\"add\">\r\n                    <AddIcon />\r\n                </Fab>\r\n                <Dialog open={this.state.open} onClose={this.handlerOpen}>\r\n                    <DialogTitle>\r\n                        Add film\r\n                    </DialogTitle>\r\n                    <DialogContent>\r\n                        <TextField\r\n                            required\r\n                            autoFocus\r\n                            margin=\"dense\"\r\n                            label=\"Title\"\r\n                            value={this.state.film.title}\r\n                            onChange={this.handlerInputTitle}\r\n                            fullWidth/>\r\n                        <TextField\r\n                            autoFocus\r\n                            margin=\"dense\"\r\n                            label=\"Release Date\"\r\n                            type=\"date\"\r\n                            value={this.state.film.release_date}\r\n                            onChange={this.handlerInputDate}\r\n                            InputLabelProps={{\r\n                                shrink: true,\r\n                            }}\r\n                            fullWidth/>\r\n                        <TextField\r\n                            margin=\"dense\"\r\n                            label=\"Format\"\r\n                            value={this.state.film.format}\r\n                            onChange={this.handlerInputFormat}\r\n                            fullWidth/>\r\n                        <TextField\r\n                            margin=\"dense\"\r\n                            label=\"Stars\"\r\n                            value={this.state.film.actors}\r\n                            onChange={this.handlerInputActors}\r\n                            fullWidth/>\r\n                    </DialogContent>\r\n                    <DialogActions>\r\n                        <Button onClick={this.handlerCancel} color=\"secondary\">\r\n                            Cancel\r\n                        </Button>\r\n                        <input type=\"file\" accept=\".txt\" className={classes.invisible}\r\n                               id=\"dialog_file_input\" onInput={this.handlerFileInput}/>\r\n                        <Button color=\"primary\" onClick={this.handlerButtonFileInput}>\r\n                            Upload from file\r\n                        </Button>\r\n                        <Button onClick={this.handlerSubmit} color=\"primary\">\r\n                            Submit\r\n                        </Button>\r\n                    </DialogActions>\r\n                </Dialog>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withStyles(styles)(AddFilmDialog)\r\n","import React from 'react';\r\nimport { withStyles } from \"@material-ui/core\";\r\nimport Grid from \"@material-ui/core/Grid\"\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport InputBase from \"@material-ui/core/InputBase\";\r\nimport {fade} from \"@material-ui/core/styles\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport debounce from \"lodash/debounce\";\r\n\r\nconst styles = theme => ({\r\n    search: {\r\n        position: 'relative',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        flexGrow: 1,\r\n        borderRadius: theme.shape.borderRadius,\r\n        backgroundColor: fade(theme.palette.common.white, 0.15),\r\n        '&:hover': {\r\n            backgroundColor: fade(theme.palette.common.white, 0.25),\r\n        },\r\n        marginRight: theme.spacing(2),\r\n        marginLeft: 0,\r\n        width: '100%',\r\n        [theme.breakpoints.up('sm')]: {\r\n            marginLeft: theme.spacing(3),\r\n            width: 'auto',\r\n        },\r\n    },\r\n    searchIcon: {\r\n        width: theme.spacing(7),\r\n        height: '100%',\r\n        pointerEvents: 'none',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n    },\r\n    inputRoot: {\r\n        color: 'inherit',\r\n        flexGrow: 1,\r\n    },\r\n    inputInput: {\r\n        padding: theme.spacing(1, 1, 1, 0),\r\n        transition: theme.transitions.create('width'),\r\n        width: '100%',\r\n    },\r\n    searchSelect: {\r\n        flexGrow: 0.1,\r\n    }\r\n});\r\n\r\nclass Search extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.searchFilms = debounce(this.props.handlerSearch, 100);\r\n        this.state = {\r\n            query: {\r\n                type: 'title',\r\n                query: '',\r\n                order: 'DESC',\r\n            }\r\n        }\r\n    }\r\n    handleSelectType = (e) => {\r\n        let { query } = this.state;\r\n        query.type = e.target.value;\r\n        this.setState({\r\n            query,\r\n        });\r\n        this.searchFilms(this.state.query);\r\n    };\r\n    handleSelectOrder = (e) => {\r\n        let { query } = this.state;\r\n        query.order = e.target.value;\r\n        this.setState({\r\n            query,\r\n        });\r\n        this.searchFilms(this.state.query);\r\n    };\r\n    handleSearchInput = (e) => {\r\n        let { query } = this.state;\r\n        query.query = e.target.value;\r\n        this.setState({\r\n            query\r\n        });\r\n        this.searchFilms(this.state.query);\r\n    };\r\n    render() {\r\n        const { classes } = this.props;\r\n        return (\r\n            <Grid container>\r\n                <div className={classes.search}>\r\n                    <div className={classes.searchIcon}>\r\n                        <SearchIcon />\r\n                    </div>\r\n                    <InputBase\r\n                        placeholder=\"Searchâ€¦\"\r\n                        value={this.state.query.query}\r\n                        classes={{\r\n                            root: classes.inputRoot,\r\n                            input: classes.inputInput,\r\n                        }}\r\n                        inputProps={{ 'aria-label': 'search' }}\r\n                        onChange={this.handleSearchInput}\r\n                    />\r\n                </div>\r\n                <FormControl className={classes.searchSelect}>\r\n                    <InputLabel htmlFor=\"search-by\">Search by</InputLabel>\r\n                    <Select\r\n                        onChange={this.handleSelectType}\r\n                        value={this.state.query.type}\r\n                        displayEmpty\r\n                    >\r\n                        <MenuItem value=\"title\">title</MenuItem>\r\n                        <MenuItem value=\"actors\">actor</MenuItem>\r\n                    </Select>\r\n                </FormControl>\r\n                <FormControl className={classes.searchSelect}>\r\n                    <InputLabel htmlFor=\"search-by\">Order</InputLabel>\r\n                    <Select\r\n                        onChange={this.handleSelectOrder}\r\n                        value={this.state.query.order}\r\n                        displayEmpty\r\n                    >\r\n                        <MenuItem value=\"ASC\">ascending</MenuItem>\r\n                        <MenuItem value=\"DESC\">descending</MenuItem>\r\n                    </Select>\r\n                </FormControl>\r\n            </Grid>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withStyles(styles)(Search)\r\n\r\n","import React from 'react';\r\nimport { withStyles } from \"@material-ui/core\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\nimport api from '../api';\r\nimport filmValidator from '../utils/filmValidator';\r\n\r\nimport Film from './Film';\r\nimport AddFilmDialog from './AddFilmDialog';\r\nimport Search from './Search';\r\n\r\n\r\nconst styles = theme => ({\r\n    container: {\r\n        margin: theme.spacing(1),\r\n    },\r\n    film: {\r\n        margin: theme.spacing(2),\r\n    }\r\n});\r\n\r\nclass Home extends React.Component{\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            films: [{\r\n                title: '',\r\n                release_date: new Date(),\r\n                format: '',\r\n                id: 0,\r\n                actors: ''\r\n            }],\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        api.getFilms('').then(res => {\r\n            this.setState({\r\n                films: res.data,\r\n            })\r\n        })\r\n    }\r\n    handlerSearch = async (request) => {\r\n        const res = await api.getFilms(request);\r\n        this.setState({\r\n            films: res.data,\r\n        })\r\n    };\r\n    handlerAddFilm = async (film) => {\r\n        const { data } = await api.putFilm(film);\r\n        const films = this.state.films;\r\n        this.setState({\r\n            films: [...films, data]\r\n        })\r\n    };\r\n    handlerDeleteFilm = async (filmId) => {\r\n        await api.deleteFilmById(filmId);\r\n        const indexOfFilm = this.state.films.findIndex(el => el.id === filmId);\r\n        const newFilms = this.state.films.slice(0, indexOfFilm)\r\n            .concat(this.state.films.slice(indexOfFilm + 1, this.state.films.length));\r\n        this.setState({\r\n            films: newFilms,\r\n        });\r\n    };\r\n    handlerMassiveAddFilms = async (films) => {\r\n        let filmPutPromises = [];\r\n        for (let film of films) {\r\n            filmValidator(film) ? filmPutPromises.push(api.putFilm(film)) : console.log('Wrong film data');\r\n        }\r\n        let newFilms = await Promise.all(filmPutPromises);\r\n        newFilms = newFilms.map(res => res.data);\r\n        const previousFilms = this.state.films;\r\n        this.setState({\r\n            films: [...previousFilms, ...newFilms]\r\n        });\r\n    };\r\n    render() {\r\n        const { classes } = this.props;\r\n        return (\r\n            <Container>\r\n                <Search handlerSearch={this.handlerSearch}/>\r\n                {this.state.films.map(film =>\r\n                    <div key={film.id} className={classes.film}>\r\n                        <Film film={film}\r\n                              handlerDeleteFilm={this.handlerDeleteFilm}/>\r\n                    </div>)}\r\n                <Grid container justify=\"center\" className={classes.container}>\r\n                    <AddFilmDialog\r\n                        handlerAddFilm={this.handlerAddFilm}\r\n                        handlerMassiveAddFilms={this.handlerMassiveAddFilms}/>\r\n                </Grid>\r\n            </Container>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withStyles(styles)(Home);\r\n","import React from 'react';\nimport Home from './components/Home';\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Home/>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport { lightBlue, red } from \"@material-ui/core/colors\";\nimport { ThemeProvider } from '@material-ui/styles';\n\nconst theme = createMuiTheme({\n    palette: {\n        primary: lightBlue,\n        secondary: red,\n    },\n});\n\nReactDOM.render(\n    (<ThemeProvider theme={ theme }>\n        <App />\n    </ThemeProvider>),\n    document.getElementById('root'));\n"],"sourceRoot":""}